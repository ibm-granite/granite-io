examples:
- name: example1
  classifier_input:
    messages:
    - {"role": "assistant", "content": "Welcome to pet questions!"}
    - {"role": "user", "content": "Which of my pets have fleas?"}
    - {"role": "assistant", "content": "The cat fled."}
    documents:
    - {"doc_id": 1, "text": "My dog has fleas. My cat does not have fleas."}
    - {"doc_id": 2, "text": "My cat ran away."}
    generate_inputs:
      "temperature": 0.0 
  classifier_prompt: |-
    <|start_of_role|>system<|end_of_role|>Knowledge Cutoff Date: April 2024.
    Today's Date: {_TODAYS_DATE}.
    You are Granite, developed by IBM. You are a helpful AI assistant.<|end_of_text|>
    <|start_of_role|>assistant<|end_of_role|>Welcome to pet questions!<|end_of_text|>
    <|start_of_role|>user<|end_of_role|>Which of my pets have fleas?<|end_of_text|>
    <|start_of_role|>assistant<|end_of_role|>The cat fled.<|end_of_text|>
    <|start_of_role|>user<|end_of_role|>answer_relevance<|end_of_text|>
  classifier_output:
    answer_relevance_analysis: >-
      The inquiry asks which of the user's pets have fleas. The response states
      that 'the cat fled,' which is not relevant to the inquiry about fleas.
      The response does not address the user's question at all.
    answer_relevance_category: No attempt
    answer_relevance_judgment: False
  rewriter_prompt: |-
    <|start_of_role|>system<|end_of_role|>Knowledge Cutoff Date: April 2024.
    Today's Date: {_TODAYS_DATE}.
    You are Granite, developed by IBM. Write the response to the user's input by strictly aligning with the facts in the provided documents. If the information needed to answer the question is not available in the documents, inform the user that the question cannot be answered based on the available data.<|end_of_text|>
    <|start_of_role|>document {{"document_id": "1"}}<|end_of_role|>
    My dog has fleas. My cat does not have fleas.<|end_of_text|>
    <|start_of_role|>document {{"document_id": "2"}}<|end_of_role|>
    My cat ran away.<|end_of_text|>
    <|start_of_role|>assistant<|end_of_role|>Welcome to pet questions!<|end_of_text|>
    <|start_of_role|>user<|end_of_role|>Which of my pets have fleas?<|end_of_text|>
    <|start_of_role|>assistant<|end_of_role|>The cat fled.<|end_of_text|>
    <|start_of_role|>user<|end_of_role|>Rewrite the response for relevance.
    The last assistant response is considered not fully relevant to the last user inquiry due to No attempt: The inquiry asks which of the user's pets have fleas. The response states that 'the cat fled,' which is not relevant to the inquiry about fleas. The response does not address the user's question at all.
    Decide if you agree with this assessment, then act according to the following instructions: 
    If you disagree with the assessment, provide a verbatim copy of the original response.  DO NOT attempt to correct any other perceived defects in the response. 
    If you agree with the assessment, provide an updated response that no longer fit the label No attempt, by providing a relevant response if an inquiry should be answered, or providing a short response if the last user utterance contains no inquiry.  Your response should be entirely based on the provided documents and should not rely on other prior knowledge. Your response should be suitable to be directly provided to the user.  It should NOT contain meta information regarding the original response, its assessment, or this instruction.  The user does not see any of these.  Your response is the only response they will see to their inquiry, in place of the original response.<|end_of_text|>
    <|start_of_role|>assistant<|end_of_role|>
  rewriter_output: >-
    {"answer_relevance_rewrite": "Your dog has fleas. Your cat does not have fleas."}
  composite_output: >-
    {"answer_relevance_rewrite": "Your dog has fleas. Your cat does not have fleas."}

- name: example2
  classifier_input:
    messages:
    - {"role": "user", "content": "Who attended the meeting?"}
    - {"role": "assistant", "content": "Many people attended the meeting."}
    documents:
    - {"doc_id": 1, "text": "Meeting attendees: Alice, Bob, Carol."}
    - {"doc_id": 2, "text": "Meeting time: 9:00 am to 11:00 am."}
    generate_inputs:
      "temperature": 0.0 
  classifier_prompt: |-
    <|start_of_role|>system<|end_of_role|>Knowledge Cutoff Date: April 2024.
    Today's Date: {_TODAYS_DATE}.
    You are Granite, developed by IBM. You are a helpful AI assistant.<|end_of_text|>
    <|start_of_role|>user<|end_of_role|>Who attended the meeting?<|end_of_text|>
    <|start_of_role|>assistant<|end_of_role|>Many people attended the meeting.<|end_of_text|>
    <|start_of_role|>user<|end_of_role|>answer_relevance<|end_of_text|>
  classifier_output:
    answer_relevance_analysis: >-
      The inquiry asks who attended the meeting. The response provides a vague
      and non-specific answer that does not address the question directly. It
      does not provide any specific information about the attendees.
    answer_relevance_category: No attempt
    answer_relevance_judgment: False
  rewriter_prompt: |-
    <|start_of_role|>system<|end_of_role|>Knowledge Cutoff Date: April 2024.
    Today's Date: {_TODAYS_DATE}.
    You are Granite, developed by IBM. Write the response to the user's input by strictly aligning with the facts in the provided documents. If the information needed to answer the question is not available in the documents, inform the user that the question cannot be answered based on the available data.<|end_of_text|>
    <|start_of_role|>document {{"document_id": "1"}}<|end_of_role|>
    Meeting attendees: Alice, Bob, Carol.<|end_of_text|>
    <|start_of_role|>document {{"document_id": "2"}}<|end_of_role|>
    Meeting time: 9:00 am to 11:00 am.<|end_of_text|>
    <|start_of_role|>user<|end_of_role|>Who attended the meeting?<|end_of_text|>
    <|start_of_role|>assistant<|end_of_role|>Many people attended the meeting.<|end_of_text|>
    <|start_of_role|>user<|end_of_role|>Rewrite the response for relevance.
    The last assistant response is considered not fully relevant to the last user inquiry due to No attempt: The inquiry asks who attended the meeting. The response provides a vague and non-specific answer that does not address the question directly. It does not provide any specific information about the attendees.
    Decide if you agree with this assessment, then act according to the following instructions: 
    If you disagree with the assessment, provide a verbatim copy of the original response.  DO NOT attempt to correct any other perceived defects in the response. 
    If you agree with the assessment, provide an updated response that no longer fit the label No attempt, by providing a relevant response if an inquiry should be answered, or providing a short response if the last user utterance contains no inquiry.  Your response should be entirely based on the provided documents and should not rely on other prior knowledge. Your response should be suitable to be directly provided to the user.  It should NOT contain meta information regarding the original response, its assessment, or this instruction.  The user does not see any of these.  Your response is the only response they will see to their inquiry, in place of the original response.<|end_of_text|>
    <|start_of_role|>assistant<|end_of_role|>
  rewriter_output: >-
    {"answer_relevance_rewrite": "Alice, Bob, and Carol attended the meeting."}
  composite_output: >-
    {"answer_relevance_rewrite": "Alice, Bob, and Carol attended the meeting."}


# Third data point.  Verify that the classifier measures only answer relevance but not accuracy, and that the rewriter is not invoked for answers classified relevant.
- name: example3
  classifier_input:
    messages:
    - {"role": "user", "content": "Is Pluto a planet?"}
    - {"role": "assistant", "content": "Pluto is a planet."}
    documents:
    - {"doc_id": 1, "text": "There are eight planets in our solar system: Mercury, Venus, Earth, Mars, Jupiter, Saturn, Uranus, and Neptune. Pluto was reclassified as a dwarf planet in 2006, so it is no longer counted among the planets, according to NASA"}
    generate_inputs:
      "temperature": 0.0 
  classifier_prompt: |-
    <|start_of_role|>system<|end_of_role|>Knowledge Cutoff Date: April 2024.
    Today's Date: {_TODAYS_DATE}.
    You are Granite, developed by IBM. You are a helpful AI assistant.<|end_of_text|>
    <|start_of_role|>user<|end_of_role|>Is Pluto a planet?<|end_of_text|>
    <|start_of_role|>assistant<|end_of_role|>Pluto is a planet.<|end_of_text|>
    <|start_of_role|>user<|end_of_role|>answer_relevance<|end_of_text|>
  classifier_output:
    answer_relevance_analysis: >-
       The inquiry asks whether Pluto is a planet. The response states that Pluto is a planet, which is a direct and complete answer to the question. This is a pertinent answer with no extra information.
    answer_relevance_category: Pertinent
    answer_relevance_judgment: True
  rewriter_prompt: null
  composite_output: >-
    {"answer_relevance_rewrite": "Pluto is a planet."}